<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Theron: Theron::Framework Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceTheron.html">Theron</a>::<a class="el" href="classTheron_1_1Framework.html">Framework</a>
  </div>
</div>
<div class="contents">
<h1>Theron::Framework Class Reference</h1><!-- doxytag: class="Theron::Framework" -->
<p>Manager class that hosts, manages, and executes actors.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;Framework.h&gt;</code></p>

<p><a href="classTheron_1_1Framework-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTheron_1_1Framework_1_1Parameters.html">Parameters</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="structTheron_1_1Framework_1_1Parameters.html" title="Parameters structure that can be passed to the Framework constructor.">Parameters</a> structure that can be passed to the <a class="el" href="classTheron_1_1Framework.html" title="Manager class that hosts, manages, and executes actors.">Framework</a> constructor.  <a href="structTheron_1_1Framework_1_1Parameters.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTheron_1_1Framework_adcf4d72004a39270624a73891e3cd1a7.html#adcf4d72004a39270624a73891e3cd1a7">Framework</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor.  <a href="#adcf4d72004a39270624a73891e3cd1a7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTheron_1_1Framework_aa1571bd9eb157559b2c8ad1af0c4af8b.html#aa1571bd9eb157559b2c8ad1af0c4af8b">Framework</a> (const <a class="el" href="namespaceTheron_a254da7d1d07833b997828500fbf73daa.html#a254da7d1d07833b997828500fbf73daa">uint32_t</a> threadCount)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#aa1571bd9eb157559b2c8ad1af0c4af8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTheron_1_1Framework_a89197f415e7973e2b4abb37de89efabc.html#a89197f415e7973e2b4abb37de89efabc">Framework</a> (const <a class="el" href="structTheron_1_1Framework_1_1Parameters.html">Parameters</a> &amp;params)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#a89197f415e7973e2b4abb37de89efabc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTheron_1_1Framework_a18caa73848bb4d46b214f5d46a5786ba.html#a18caa73848bb4d46b214f5d46a5786ba">~Framework</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#a18caa73848bb4d46b214f5d46a5786ba"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename ValueType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classTheron_1_1Framework_af43150ae3a1c56d9b82426b02e1bb317.html#af43150ae3a1c56d9b82426b02e1bb317">Send</a> (const ValueType &amp;value, const <a class="el" href="classTheron_1_1Address.html">Address</a> &amp;from, const <a class="el" href="classTheron_1_1Address.html">Address</a> &amp;address)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a message to the entity (typically an actor, but potentially a <a class="el" href="classTheron_1_1Receiver.html" title="A standalone entity that can accept messages sent by actors.">Receiver</a>) at the given address.  <a href="#af43150ae3a1c56d9b82426b02e1bb317"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename ObjectType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classTheron_1_1Framework_a31af6a890f23de2f16eef2363b217f70.html#a31af6a890f23de2f16eef2363b217f70">SetFallbackHandler</a> (ObjectType *const actor, void(ObjectType::*handler)(const <a class="el" href="classTheron_1_1Address.html">Address</a> from))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the fallback message handler executed for unhandled messages.  <a href="#a31af6a890f23de2f16eef2363b217f70"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename ObjectType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classTheron_1_1Framework_acb378db478caff5f111b13917ff65f72.html#acb378db478caff5f111b13917ff65f72">SetFallbackHandler</a> (ObjectType *const actor, void(ObjectType::*handler)(const void *const data, const <a class="el" href="namespaceTheron_a254da7d1d07833b997828500fbf73daa.html#a254da7d1d07833b997828500fbf73daa">uint32_t</a> size, const <a class="el" href="classTheron_1_1Address.html">Address</a> from))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the fallback message handler executed for unhandled messages.  <a href="#acb378db478caff5f111b13917ff65f72"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class ActorType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classTheron_1_1ActorRef.html">ActorRef</a>&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classTheron_1_1Framework_aaa437cb5d31838c0d44eb0a48d08298f.html#aaa437cb5d31838c0d44eb0a48d08298f">CreateActor</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deprecated method provided for backwards compatibility.  <a href="#aaa437cb5d31838c0d44eb0a48d08298f"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class ActorType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classTheron_1_1ActorRef.html">ActorRef</a>&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classTheron_1_1Framework_a37ce8dbe7639a68665f9f9c46ebc4dae.html#a37ce8dbe7639a68665f9f9c46ebc4dae">CreateActor</a> (const typename ActorType::Parameters &amp;params)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deprecated method provided for backwards compatibility.  <a href="#a37ce8dbe7639a68665f9f9c46ebc4dae"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Manager class that hosts, manages, and executes actors. </p>
<p>Users should construct an instance of the <a class="el" href="classTheron_1_1Framework.html" title="Manager class that hosts, manages, and executes actors.">Framework</a> in non-actor application code before creating any actors. <a class="el" href="classTheron_1_1Actor.html" title="The actor baseclass.">Actor</a> objects can then be created by passing the framework as a parameter to the constructor of the derived actor class:</p>
<div class="fragment"><pre class="fragment"><span class="keyword">class </span>MyActor : <span class="keyword">public</span> Theron::<a class="code" href="classTheron_1_1Framework_ae4af50bf1743d112cb2c2c784bea21c8.html#ae4af50bf1743d112cb2c2c784bea21c8">Actor</a>
{
<span class="keyword">public</span>:

    <span class="keyword">explicit</span> MyActor(<a class="code" href="classTheron_1_1Framework.html" title="Manager class that hosts, manages, and executes actors.">Theron::Framework</a> &amp;framework) : Theron::<a class="code" href="classTheron_1_1Framework_ae4af50bf1743d112cb2c2c784bea21c8.html#ae4af50bf1743d112cb2c2c784bea21c8">Actor</a>(framework)
    {
    }
};

<a class="code" href="classTheron_1_1Framework.html" title="Manager class that hosts, manages, and executes actors.">Theron::Framework</a> framework;
MyActor myActor(framework);
</pre></div><p>Internally, each framework contains a pool of worker threads which are used to execute the message handlers of the actors created within it. The threads within a framework are dedicated to executing actors within that framework, and are never used to execute actors in other frameworks or any other user code.</p>
<p>The initial number of worker threads can be specified on construction of the framework by means of an explicit parameter to the <a class="el" href="classTheron_1_1Framework_adcf4d72004a39270624a73891e3cd1a7.html#adcf4d72004a39270624a73891e3cd1a7" title="Default constructor.">Framework::Framework</a> constructor. Additionally, the number of threads can be increased or decreased at runtime by calling SetMinThreads or SetMaxThreads. The utilization of the currently enabled threads is measured by performance metrics, queried by GetCounterValue and enumerated by Counter.</p>
<p>The worker threads are created and synchronized using underlying threading objects. Different implementations of these threading objects are possible, allowing <a class="el" href="namespaceTheron.html" title="Main namespace containing all public API components.">Theron</a> to be used in environments with different threading primitives. Currently, implementations based on Win32 threads, Boost threads and std::thread are provided. Users can define <a class="el" href="Defines_8h_a0b9efe056acea27a0164457d09896e2d.html#a0b9efe056acea27a0164457d09896e2d">THERON_BOOST</a> or <a class="el" href="Defines_8h_ad0b3f3df7cc52c8950a1bf908001bb78.html#ad0b3f3df7cc52c8950a1bf908001bb78">THERON_CPP11</a> to enable or disable the use of boost::thread and std::thread, respectively.</p>
<p>It's possible to construct multiple <a class="el" href="classTheron_1_1Framework.html" title="Manager class that hosts, manages, and executes actors.">Framework</a> objects within a single application. The actors created within each <a class="el" href="classTheron_1_1Framework.html" title="Manager class that hosts, manages, and executes actors.">Framework</a> are processed by separate pools of worker threads. <a class="el" href="classTheron_1_1Actor.html" title="The actor baseclass.">Actor</a> addresses are globally unique across all frameworks. Actors in one framework can send messages to actors in other frameworks.</p>
<p>Actors created within each <a class="el" href="classTheron_1_1Framework.html" title="Manager class that hosts, manages, and executes actors.">Framework</a> are executed only by the worker threads in the threadpool of that framework, allowing the threads of a <a class="el" href="classTheron_1_1Framework.html" title="Manager class that hosts, manages, and executes actors.">Framework</a> to be effectively dedicated to particular actors. See the <a class="el" href="classTheron_1_1Framework_adcf4d72004a39270624a73891e3cd1a7.html#adcf4d72004a39270624a73891e3cd1a7">constructor</a> for more information.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>An important point about <a class="el" href="classTheron_1_1Framework.html" title="Manager class that hosts, manages, and executes actors.">Framework</a> objects is that they must always outlive the actors created within them. See the Framework::~Framework "destructor" documentation for more information. </dd></dl>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
